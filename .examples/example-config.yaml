name: My oscar report
datasets:
  oscars:
    path: ".examples/data/oscars.csv"
    links:
      link to oscar plot:
        column: age
        item: oscar-plot
      link to oscar entry:
        column: name
        table-row: oscars/name
      link to movie:
        column: movie
        table-row: movies/Title
  movies:
    path: ".examples/data/movies.csv"
    links:
      link to oscar entry:
        column: Title
        table-row: oscars/movie
views:
  oscars:
    dataset: oscars
    desc: |
      ### All winning oscars beginning in the year 1929.
      This table contains *all* winning oscars for best actress and best actor.
    page-size: 25
    render-table:
      age:
        plot:
          ticks:
            scale: linear
      name:
        link-to-url: "https://de.wikipedia.org/wiki/{value}"
      movie:
        link-to-url: "https://de.wikipedia.org/wiki/{value}"
      award:
        link-to-url: "https://lmgtfy.app/?q={value}"
  oscar-plot:
    dataset: oscars
    desc: |
      ## My beatiful oscar scatterplot
      *So many great actors and actresses*
    render-plot:
      schema: |
        {
          "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
          "description": "A scatterplot showing oscars.",
          "data": {
            "values": []
          },
          "mark": {"type": "point", "tooltip": {"content": "data"}},
          "encoding": {
            "x": {
              "field": "oscar_yr",
              "type": "quantitative",
              "scale": {"zero": false}
            },
            "y": {
              "field": "age",
              "type": "quantitative",
              "scale": {"zero": false}
            },
            "href": {"field": "link to oscar entry"},
            "color": {"field": "award", "type": "nominal"},
            "shape": {"field": "award", "type": "nominal"}
          }
        }
  movies:
    dataset: movies
    render-table:
      imdbID:
        link-to-url: "https://www.imdb.com/title/{value}/"
      Title:
        link-to-url: "https://de.wikipedia.org/wiki/{value}"
      imdbRating:
        plot:
          ticks:
            scale: linear
      Rated:
        plot:
          heatmap:
            scale: ordinal
            scheme: accent
  movies-plot:
    dataset: movies
    desc: |
      All movies with its *runtime* and *ratings* plotted over *time*.
    render-plot:
      schema: |
        {
          "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
          "description": "A scatterplot showing movie ratings.",
          "data": {
            "values": []
          },
          "transform": [
            {"calculate": "parseInt(datum.Runtime)", "as": "parsed_runtime"}
          ],
          "mark": {"type": "circle", "opacity": 0.8, "tooltip": {"content": "data"}},
          "encoding": {
            "x": {
              "field": "Year",
              "type": "quantitative",
              "scale": {"zero": false}
            },
            "size": {
              "title": "Runtime",
              "field": "parsed_runtime",
              "type": "quantitative",
              "scale": {"zero": false}
            },
            "y": {
              "field": "imdbRating",
              "type": "quantitative",
              "scale": {"zero": false}
            },
            "href": {"field": "link to oscar entry"},
            "color": {"field": "Rated", "type": "nominal"},
          }
        }